<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sales - Mundo Submarino</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
    <header>
        <div class="brand">
            <img class="logo" src="icono.png" alt="Logo de la marca" />
            <h1 class="title">Mundo Submarino</h1>
        </div>
        <nav aria-label="principal">
            <a href="index.html" class="btn-login">Inicio</a>
            <a href="contacto.html" class="btn-login">Contacto</a>
            <a href="login.html" class="btn-login">Iniciar sesión</a>
            <a href="carrito.html" class="btn-login">Carrito</a>
        </nav>
    </header>

    <main>
        <h2>Sales en Venta</h2>
        <section class="fish-list">

            <article class="fish-item">
                <img src="sal1.png" alt="Sal 1" class="product-peces">
                <h4>Sal Seachem Reef Salt, 189 L -sal Sintetica Premium</h4>
                <p>Precio: $102.000 ARS</p>
            </article>

            <article class="fish-item">
                <img src="sal2.png" alt="Sal 2" class="product-peces">
                <h4>Red Sea Sal 4 Kg - 120lt Pecera Marina Peces Marinos Acuario</h4>
                <p>Precio: $40.900 ARS</p>
            </article>

            <article class="fish-item">
                <img src="sal3.png" alt="Sal 3" class="product-peces">
                <h4>Seachem Brackish Salt 300 Gr</h4>
                <p>Precio: $21.600 ARS</p>
            </article>

        </section>
    </main>

    <footer>
        © 2025 Mundo Submarino
    </footer>
</div>

<!-- Modal -->
<div id="modalProducto" class="modal">
  <div class="modal-contenido">
    <span class="cerrar">&times;</span>
    <div class="modal-body">
      <img id="modalImagen" src="" alt="Producto">
      <div class="modal-texto">
        <h2 id="modalTitulo"></h2>
        <p id="modalPrecio"></p>
        <p id="modalDescripcion"></p>
        <button class="btn-carrito" id="btnAgregarModal">Agregar al carrito →</button>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const items = document.querySelectorAll('.fish-item');
  const modal = document.getElementById('modalProducto');
  const modalImage = document.getElementById('modalImagen');
  const modalTitle = document.getElementById('modalTitulo');
  const modalPrice = document.getElementById('modalPrecio');
  const modalDesc = document.getElementById('modalDescripcion');
  const closeBtn = document.querySelector('.cerrar');
  let productoActual = {};

  items.forEach(item => {
    item.addEventListener('click', () => {
      const imgEl = item.querySelector('img');
      const titleEl = item.querySelector('h4');
      const priceEl = item.querySelector('p');

      productoActual = {
        title: titleEl.textContent.trim(),
        price: priceEl.textContent.trim(),
        description: '',
        image: imgEl.getAttribute('src')
      };

      modalImage.src = productoActual.image;
      modalTitle.textContent = productoActual.title;
      modalPrice.textContent = productoActual.price;
      modalDesc.textContent = productoActual.description;

      modal.style.display = 'block';
      document.body.style.overflow = 'hidden';
    });
  });

  function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = '';
  }

  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', e => { if(e.target === modal) closeModal(); });
  document.addEventListener('keydown', e => { if(e.key==='Escape' && modal.style.display==='block') closeModal(); });

  document.getElementById('btnAgregarModal').addEventListener('click', () => {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.push(productoActual);
    localStorage.setItem('cart', JSON.stringify(cart));
    alert(productoActual.title + " agregado al carrito ✅");
    closeModal();
  });
});
</script>
</body>
</html>